<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us" class="no-js">
<head>
  <title> Motivations &middot; xbuf </title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta charset="utf-8" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  
  <link rel="stylesheet" href="
<body>
<div class="">

<div class="small-9 small-push-3 columns">

<header class="row">
  <div class="small-12 columns">
    <h1 class="text-center"><a href="http://xbuf.github.io/motivations/">Motivations</a></h1>
  </div>
</header>

<div class="row">
  <div class="small-12 columns">
    <span class="post-date">Mon, Feb 16, 2015</span>
    

<h1 id="why">Why ?</h1>

<ul>
<li>.proto is used as spec and to generate generator/parser for several languages. No need to write your own (you can if you want). And tool, game, engine spend less time on creating generator/parser. Developper only need to create adapter, converter into their own format (far easier than creating generator + parser).</li>
<li>protobuf have support for lot of programming language (my priority order):

<ol>
<li>python : blender exporter, realtime renderer is my first target as tool.</li>
<li>c/c++, java : lot of tools, game-engine are writen in C/C++ and jmonkeyengine are my first target as game engine.</li>
<li>go, rust, dart, javascript : are used by lot of game engine (maybe the future).</li>
<li>c# : used by unity3d</li>
</ol></li>
<li>type checking (at compile time or runtime) is developper friendly.</li>
<li>often protobuf will generate better parser (error reporting) than hand written.</li>
<li>a realy open/free format with source, doc hosted on public repository (github)</li>
<li>protobuf have an ecosystem, port, ide support,&hellip;</li>
</ul>

<h2 id="comments">Comments</h2>

<ul>
<li>file are binary, not text.

<ul>
<li>pros : size</li>
<li>cons : impossible to read or to edit content with a text editor, not scm (git, svn) friendly (like for image ;-) )</li>
</ul></li>
<li>Why not, flatbuffers, capnproto ? because not mature/developper friendly enough for my first target language (python, java, c/c++), may be for an other adaptation</li>
<li>Why not, msgpack, json, yaml,&hellip; ? they require to write doc spec, and to create generator/parser. Same issue than OpenGEX and ODDL.</li>
<li>Protobuf is not the best in size of the content, or the best is performence (reading/writing), has code generator,&hellip; but it&rsquo;s the optimal for my target (see &lsquo;Why ?&rsquo;)</li>
<li>Quality for protoc plugins is very variable between language. Some languages have several generators (eg: python, c#).</li>
<li>For python3 I need to convert the package protobuf-2.6.1 to python 3 (via a simple script)</li>
<li>Using an intermediary (pivot) format generate lot of copy (eg: conversion from internal vec3 to xbuf vec3) :overhead at coding time and runtime.</li>
<li>IDL (.proto) limitations :

<ul>
<li>no range for values</li>
<li>no invariant rules about value (like pattern matching, min, max, &hellip;)</li>
<li>no rules (min, max, fixed, multiple of &hellip;) about size of list (repeated)</li>
<li>no readonly/immutable value</li>
</ul></li>
</ul>

<p>See also <a href="FAQ">FAQ</a></p>

  </div>
</div>
</div>

<aside class="small-3 small-pull-9 columns sidebar">
  <h1><img src="
</div>
<script src="
  </body>
</html>

